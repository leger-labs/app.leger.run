{# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• #}
{# OPENWEBUI ENVIRONMENT - Complete v0.6.32 Coverage                         #}
{# Auto-generated from user-config.json via Leger schema v0.0.1              #}
{# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• #}

{# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   FEATURE INFERENCE RULES
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

   Features are automatically enabled when their provider is configured:

   RAG (Retrieval-Augmented Generation):
     - Enabled when: providers.vector_db is set (non-empty)
     - Requires: providers.rag_embedding (optional, defaults to openai)
     - Requires: providers.content_extraction (optional, defaults to tika)
     - Requires: providers.text_splitter (optional, defaults to recursive)

   Web Search:
     - Enabled when: providers.web_search_engine is set (non-empty)
     - Requires: providers.web_loader (optional, defaults to requests)

   Image Generation:
     - Enabled when: providers.image_engine is set (non-empty)
     - Requires: No additional providers

   Code Execution:
     - Enabled when: providers.code_execution_engine is set (non-empty)
     - Requires: Jupyter service if engine="jupyter"

   Speech-to-Text:
     - Enabled when: providers.stt_engine is set (non-empty)
     - Requires: Whisper service if engine="whisper"

   Text-to-Speech:
     - Enabled when: providers.tts_engine is set (non-empty)
     - Requires: EdgeTTS service if engine="edgetts"

   Explicit Feature Flags (cannot be inferred):
     - features.title_generation (default: true)
     - features.tags_generation (default: true)
     - features.autocomplete_generation (default: true)
     - features.websocket_support (default: true)

   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• #}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ”’ HIDDEN CORE CONFIGURATION (Hardcoded for Single-User Deployment)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Instance Configuration
PORT=8080
ENV=prod
ENABLE_PERSISTENT_CONFIG=true

# Feature Toggles (Superuser Mode)
BYPASS_MODEL_ACCESS_CONTROL=true
BYPASS_ADMIN_ACCESS_CONTROL=true
ENABLE_ADMIN_EXPORT=true
ENABLE_ADMIN_CHAT_ACCESS=true
SHOW_ADMIN_DETAILS=false

# Timeouts & Performance
AIOHTTP_CLIENT_TIMEOUT=300
AIOHTTP_CLIENT_TIMEOUT_MODEL_LIST=10
AIOHTTP_CLIENT_TIMEOUT_OPENAI_MODEL_LIST=10
MODELS_CACHE_TTL=1
THREAD_POOL_SIZE=0
CHAT_RESPONSE_STREAM_DELTA_CHUNK_SIZE=1
ENABLE_REALTIME_CHAT_SAVE=false

# Infrastructure (No Docker/CUDA)
USE_CUDA_DOCKER=false
K8S_FLAG=false
UVICORN_WORKERS=1

# Security (Tailscale Provides Security Layer)
WEBUI_AUTH=true
SAFE_MODE=false
OFFLINE_MODE=false
ENABLE_VERSION_UPDATE_CHECK=true
RESET_CONFIG_ON_START=false
CORS_ALLOW_ORIGIN=*
CORS_ALLOW_CUSTOM_SCHEME=
WEBUI_SESSION_COOKIE_SAME_SITE=lax
WEBUI_SESSION_COOKIE_SECURE=false
WEBUI_AUTH_COOKIE_SAME_SITE=lax
WEBUI_AUTH_COOKIE_SECURE=false
SSL_ASSERT_FINGERPRINT=
ENABLE_FORWARD_USER_INFO_HEADERS=false
ENABLE_WEB_LOADER_SSL_VERIFICATION=true

# API & Webhooks
ENABLE_API_KEY=true
ENABLE_API_KEY_ENDPOINT_RESTRICTIONS=false
API_KEY_ALLOWED_ENDPOINTS=
JWT_EXPIRES_IN=4w
ENABLE_DIRECT_CONNECTIONS=true
TOOL_SERVER_CONNECTIONS=[]
WEBHOOK_URL=
ENABLE_USER_WEBHOOKS=false

# Misc
RESPONSE_WATERMARK=
WEBUI_BUILD_HASH=dev-build
USE_OLLAMA_DOCKER=false
EXTERNAL_PWA_MANIFEST_URL=
LICENSE_KEY=

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ”’ HIDDEN USER MANAGEMENT (Single-User Deployment - No Signup/Multi-User)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Authentication
ENABLE_SIGNUP=false
ENABLE_SIGNUP_PASSWORD_CONFIRMATION=false
ENABLE_LOGIN_FORM=true
DEFAULT_USER_ROLE=admin

# User Features (Disabled for Single-User)
ENABLE_CHANNELS=false
PENDING_USER_OVERLAY_TITLE=
PENDING_USER_OVERLAY_CONTENT=
ADMIN_EMAIL=

# All User Permission Controls (Enabled for Superuser)
USER_PERMISSIONS_CHAT_CONTROLS=true
USER_PERMISSIONS_CHAT_VALVES=true
USER_PERMISSIONS_CHAT_SYSTEM_PROMPT=true
USER_PERMISSIONS_CHAT_PARAMS=true
USER_PERMISSIONS_CHAT_FILE_UPLOAD=true
USER_PERMISSIONS_CHAT_DELETE=true
USER_PERMISSIONS_CHAT_EDIT=true
USER_PERMISSIONS_CHAT_DELETE_MESSAGE=true
USER_PERMISSIONS_CHAT_CONTINUE_RESPONSE=true
USER_PERMISSIONS_CHAT_REGENERATE_RESPONSE=true
USER_PERMISSIONS_CHAT_RATE_RESPONSE=true
USER_PERMISSIONS_CHAT_STT=true
USER_PERMISSIONS_CHAT_TTS=true
USER_PERMISSIONS_CHAT_CALL=true
USER_PERMISSIONS_CHAT_MULTIPLE_MODELS=true
USER_PERMISSIONS_CHAT_TEMPORARY=true
USER_PERMISSIONS_CHAT_TEMPORARY_ENFORCED=false
USER_PERMISSIONS_FEATURES_DIRECT_TOOL_SERVERS=true
USER_PERMISSIONS_FEATURES_WEB_SEARCH=true
USER_PERMISSIONS_FEATURES_IMAGE_GENERATION=true
USER_PERMISSIONS_FEATURES_CODE_INTERPRETER=true
USER_PERMISSIONS_WORKSPACE_MODELS_ACCESS=true
USER_PERMISSIONS_WORKSPACE_KNOWLEDGE_ACCESS=true
USER_PERMISSIONS_WORKSPACE_PROMPTS_ACCESS=true
USER_PERMISSIONS_WORKSPACE_TOOLS_ACCESS=true
USER_PERMISSIONS_WORKSPACE_MODELS_ALLOW_PUBLIC_SHARING=true
USER_PERMISSIONS_WORKSPACE_KNOWLEDGE_ALLOW_PUBLIC_SHARING=true
USER_PERMISSIONS_WORKSPACE_PROMPTS_ALLOW_PUBLIC_SHARING=true
USER_PERMISSIONS_WORKSPACE_TOOLS_ALLOW_PUBLIC_SHARING=true
USER_PERMISSIONS_NOTES_ALLOW_PUBLIC_SHARING=true

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ”’ HIDDEN DATABASE & CACHE CONFIGURATION (Pre-Configured Services)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Database Pool Settings (Use SQLAlchemy Defaults)
DATABASE_POOL_SIZE=
DATABASE_POOL_MAX_OVERFLOW=0
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600
DATABASE_ENABLE_SQLITE_WAL=false
DATABASE_DEDUPLICATE_INTERVAL=0.0

# Redis Cluster Settings (Not Using Sentinel/Cluster)
REDIS_SENTINEL_HOSTS=
REDIS_SENTINEL_PORT=26379
REDIS_CLUSTER=false
WEBSOCKET_SENTINEL_HOSTS=
WEBSOCKET_SENTINEL_PORT=26379
WEBSOCKET_REDIS_CLUSTER=false
ENABLE_STAR_SESSIONS_MIDDLEWARE=false

# WebSocket Manager (Hardcoded to Redis when enabled)
{% if features.websocket_support %}
WEBSOCKET_MANAGER=redis
{% endif %}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ”§ CORE CONFIGURATION (User-Configurable)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# Database (constructed from infrastructure.services.openwebui_postgres)
DATABASE_URL=postgresql://{{ infrastructure.services.openwebui_postgres.db_user }}@{{ infrastructure.services.openwebui_postgres.hostname }}:{{ infrastructure.services.openwebui_postgres.port }}/{{ infrastructure.services.openwebui_postgres.db_name }}

# LLM Backend (constructed from infrastructure.services.litellm)
OPENAI_API_BASE_URL=http://{{ infrastructure.services.litellm.hostname }}:{{ infrastructure.services.litellm.port }}/v1

# Ollama Backend (constructed from infrastructure.services.llama_swap)
OLLAMA_BASE_URL=http://{{ infrastructure.services.llama_swap.hostname }}:{{ infrastructure.services.llama_swap.port }}

# WebUI URL (constructed from tailscale)
WEBUI_URL=https://{{ infrastructure.services.openwebui.external_subdomain }}.{{ tailscale.full_hostname }}

# Branding & Localization
WEBUI_NAME={{ provider_config.webui_name }}
{% if provider_config.custom_name %}
CUSTOM_NAME={{ provider_config.custom_name }}
{% endif %}
DEFAULT_LOCALE={{ provider_config.default_locale }}

# Default Models (resolved from model selections)
DEFAULT_MODELS={{ provider_config.default_models | default('') }}

# Logging
GLOBAL_LOG_LEVEL={{ provider_config.log_level }}

# Cache Control (optional)
{% if provider_config.cache_control %}
CACHE_CONTROL={{ provider_config.cache_control }}
{% endif %}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ“Š VECTOR DATABASE (Provider-Conditional: providers.vector_db)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{% if providers.vector_db %}
{# User selected a vector database â†’ RAG is enabled #}
VECTOR_DB={{ providers.vector_db }}

{% if providers.vector_db == "chroma" %}
# Chroma (Embedded)
CHROMA_TENANT={{ provider_config.chroma_tenant }}
CHROMA_DATABASE={{ provider_config.chroma_database }}

{% elif providers.vector_db == "pgvector" %}
# PGVector (PostgreSQL extension)
PGVECTOR_DB_URL=postgresql://{{ infrastructure.services.openwebui_postgres.db_user }}@{{ infrastructure.services.openwebui_postgres.hostname }}:{{ infrastructure.services.openwebui_postgres.port }}/{{ infrastructure.services.openwebui_postgres.db_name }}

{% elif providers.vector_db == "qdrant" %}
# Qdrant (Dedicated vector DB)
QDRANT_URI=http://{{ infrastructure.services.qdrant.hostname }}:{{ infrastructure.services.qdrant.port }}
QDRANT_GRPC_PORT={{ provider_config.qdrant_grpc_port }}
QDRANT_PREFER_GRPC={{ provider_config.qdrant_prefer_grpc | lower }}
QDRANT_ON_DISK={{ provider_config.qdrant_on_disk | lower }}

{% endif %}
{% endif %}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ” RAG CONFIGURATION (Provider-Conditional: providers.vector_db)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{% if providers.vector_db %}
{# User selected a vector database â†’ RAG is enabled #}
ENABLE_RAG=true

# RAG Embedding Engine (Auto-resolved from model-store)
RAG_EMBEDDING_ENGINE={{ providers.rag_embedding }}

{% if providers.rag_embedding == "openai" %}
# OpenAI Embeddings (via LiteLLM â†’ llama-swap)
RAG_OPENAI_API_BASE_URL=http://{{ infrastructure.services.litellm.hostname }}:{{ infrastructure.services.litellm.port }}/v1
RAG_EMBEDDING_MODEL={{ provider_config.rag_embedding_model }}

{% elif providers.rag_embedding == "ollama" %}
# Ollama Embeddings (native Ollama daemon)
OLLAMA_BASE_URL=http://{{ infrastructure.services.llama_swap.hostname }}:{{ infrastructure.services.llama_swap.port }}
RAG_EMBEDDING_MODEL={{ provider_config.ollama_embedding_model }}

{% endif %}

# RAG Settings
RAG_TOP_K={{ provider_config.rag_top_k }}
CHUNK_SIZE={{ provider_config.chunk_size }}
CHUNK_OVERLAP={{ provider_config.chunk_overlap }}
RAG_TEXT_SPLITTER={{ providers.text_splitter }}

# Security Settings
RAG_EMBEDDING_MODEL_TRUST_REMOTE_CODE={{ provider_config.rag_embedding_trust_remote_code | lower }}
RAG_RERANKING_MODEL_TRUST_REMOTE_CODE={{ provider_config.rag_reranking_trust_remote_code | lower }}
RAG_EMBEDDING_MODEL_AUTO_UPDATE={{ provider_config.rag_embedding_auto_update | lower }}
RAG_RERANKING_MODEL_AUTO_UPDATE={{ provider_config.rag_reranking_auto_update | lower }}

# Content Extraction
CONTENT_EXTRACTION_ENGINE={{ providers.content_extraction }}
{% if providers.content_extraction == "tika" %}
TIKA_SERVER_URL=http://{{ infrastructure.services.tika.hostname }}:{{ infrastructure.services.tika.port }}
{% endif %}

# Task Models for RAG (Auto-resolved from model-store)
ENABLE_RETRIEVAL_QUERY_GENERATION=true
TASK_MODEL={{ provider_config.task_model_query }}
TASK_MODEL_RAG_TEMPLATE={{ provider_config.task_model_rag_template }}

{% else %}
{# No vector database selected â†’ RAG is disabled #}
ENABLE_RAG=false
{% endif %}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ” WEB SEARCH (Provider-Conditional: providers.web_search_engine)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{% if providers.web_search_engine %}
{# User selected a search engine â†’ Web Search is enabled #}
ENABLE_RAG_WEB_SEARCH=true
ENABLE_WEB_SEARCH=true
RAG_WEB_SEARCH_ENGINE={{ providers.web_search_engine }}

{% if providers.web_search_engine == "searxng" %}
SEARXNG_QUERY_URL=http://{{ infrastructure.services.searxng.hostname }}:{{ infrastructure.services.searxng.port }}/search?q=<query>
{% endif %}

WEB_LOADER_ENGINE={{ providers.web_loader }}

# Task Model for Search Query Generation (Auto-resolved from model-store)
TASK_MODEL_SEARCH_QUERY={{ provider_config.task_model_search_query }}

{% else %}
{# No search engine selected â†’ Web Search is disabled #}
ENABLE_RAG_WEB_SEARCH=false
ENABLE_WEB_SEARCH=false
{% endif %}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ¤ SPEECH-TO-TEXT (Provider-Conditional: providers.stt_engine)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{% if providers.stt_engine %}
{# User selected a STT engine â†’ Speech-to-Text is enabled #}
AUDIO_STT_ENGINE={{ providers.stt_engine }}

{% if providers.stt_engine == "openai" %}
AUDIO_STT_OPENAI_API_BASE_URL=http://{{ infrastructure.services.litellm.hostname }}:{{ infrastructure.services.litellm.port }}/v1
AUDIO_STT_MODEL={{ provider_config.audio_stt_model }}

{% elif providers.stt_engine == "whisper" %}
AUDIO_STT_OPENAI_API_BASE_URL=http://{{ infrastructure.services.whisper.hostname }}:{{ infrastructure.services.whisper.port }}
AUDIO_STT_MODEL=whisper-1

{% endif %}
{% endif %}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ”Š TEXT-TO-SPEECH (Provider-Conditional: providers.tts_engine)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{% if providers.tts_engine %}
{# User selected a TTS engine â†’ Text-to-Speech is enabled #}
AUDIO_TTS_ENGINE={{ providers.tts_engine }}

{% if providers.tts_engine == "openai" %}
AUDIO_TTS_OPENAI_API_BASE_URL=http://{{ infrastructure.services.litellm.hostname }}:{{ infrastructure.services.litellm.port }}/v1
AUDIO_TTS_MODEL={{ provider_config.audio_tts_model }}
AUDIO_TTS_VOICE={{ provider_config.audio_tts_voice }}

{% elif providers.tts_engine == "edgetts" %}
AUDIO_TTS_OPENAI_API_BASE_URL=http://{{ infrastructure.services.edgetts.hostname }}:{{ infrastructure.services.edgetts.port }}
AUDIO_TTS_MODEL=tts-1
AUDIO_TTS_VOICE=alloy

{% endif %}
{% endif %}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ’» CODE EXECUTION (Provider-Conditional: providers.code_execution_engine)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{% if providers.code_execution_engine %}
{# User selected a code execution engine â†’ Code Execution is enabled #}
ENABLE_CODE_EXECUTION=true
CODE_EXECUTION_ENGINE={{ providers.code_execution_engine }}

{% if providers.code_execution_engine == "jupyter" %}
JUPYTER_URL=http://{{ infrastructure.services.jupyter.hostname }}:{{ infrastructure.services.jupyter.port }}

{% endif %}
{% else %}
{# No code execution engine selected â†’ Code Execution is disabled #}
ENABLE_CODE_EXECUTION=false
{% endif %}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸŒ REDIS (Always Present)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

REDIS_URL=redis://{{ infrastructure.services.openwebui_redis.hostname }}:{{ infrastructure.services.openwebui_redis.port }}/2
REDIS_KEY_PREFIX={{ provider_config.redis_key_prefix }}

{% if features.websocket_support %}
ENABLE_WEBSOCKET_SUPPORT=true
WEBSOCKET_MANAGER=redis
WEBSOCKET_REDIS_URL=redis://{{ infrastructure.services.openwebui_redis.hostname }}:{{ infrastructure.services.openwebui_redis.port }}/3
{% else %}
ENABLE_WEBSOCKET_SUPPORT=false
{% endif %}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ¤– AI TASK MODELS (Feature-Conditional - Auto-resolved from model-store)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{% if features.title_generation %}
ENABLE_TITLE_GENERATION=true
TASK_MODEL={{ provider_config.task_model_title }}
{% else %}
ENABLE_TITLE_GENERATION=false
{% endif %}

{% if features.tags_generation %}
ENABLE_TAGS_GENERATION=true
TASK_MODEL_TAGS={{ provider_config.task_model_tags }}
{% else %}
ENABLE_TAGS_GENERATION=false
{% endif %}

{% if features.autocomplete_generation %}
ENABLE_AUTOCOMPLETE_GENERATION=true
TASK_MODEL_AUTOCOMPLETE={{ provider_config.task_model_autocomplete }}
AUTOCOMPLETE_GENERATION_INPUT_MAX_LENGTH={{ provider_config.autocomplete_input_max_length }}
{% else %}
ENABLE_AUTOCOMPLETE_GENERATION=false
{% endif %}

{% if features.follow_up_generation %}
ENABLE_FOLLOW_UP_GENERATION=true
{% else %}
ENABLE_FOLLOW_UP_GENERATION=false
{% endif %}

{% if features.evaluation_arena %}
ENABLE_EVALUATION_ARENA_MODELS=true
{% else %}
ENABLE_EVALUATION_ARENA_MODELS=false
{% endif %}

{% if features.message_rating %}
ENABLE_MESSAGE_RATING=true
{% else %}
ENABLE_MESSAGE_RATING=false
{% endif %}

{% if features.community_sharing %}
ENABLE_COMMUNITY_SHARING=true
{% else %}
ENABLE_COMMUNITY_SHARING=false
{% endif %}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ–¼ï¸  IMAGE GENERATION (Provider-Conditional: providers.image_engine)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{% if providers.image_engine %}
{# User selected an image engine â†’ Image Generation is enabled #}
ENABLE_IMAGE_GENERATION=true
IMAGE_GENERATION_ENGINE={{ providers.image_engine }}

{% if providers.image_engine == "comfyui" %}
COMFYUI_BASE_URL=http://{{ infrastructure.services.comfyui.hostname }}:{{ infrastructure.services.comfyui.port }}
{% endif %}

{% else %}
{# No image engine selected â†’ Image Generation is disabled #}
ENABLE_IMAGE_GENERATION=false
{% endif %}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ” EXCLUDED FEATURES (Not Configured - Single-User Deployment)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# The following features are designed for enterprise multi-user deployments:
#   - OAuth/SSO Authentication (Google, Microsoft, GitHub, OIDC)
#   - LDAP Directory Integration
#   - SCIM Provisioning
#   - User Permission Granularity
#   - OpenTelemetry Observability
#   - Cloud Storage Providers (S3, GCS, Azure)
#
# These are unnecessary for single-user, Tailscale-secured deployments and
# add significant complexity. All authentication/authorization settings have
# been hardcoded in the HIDDEN sections above for superuser mode.
#
# For full variable reference, see:
# - docs/owui-refinement/analysis-missing-env-variables.md
# - https://docs.openwebui.com/getting-started/env-configuration
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# âœ… SUMMARY - Environment Configuration
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# Total Variables Configured: ~60 (out of 200+)
#
# FEATURES ENABLED BY PROVIDER SELECTION:
{% if providers.vector_db %}
#   âœ“ RAG (vector_db: {{ providers.vector_db }})
{% else %}
#   âœ— RAG (no vector_db selected)
{% endif %}
{% if providers.web_search_engine %}
#   âœ“ Web Search (search_engine: {{ providers.web_search_engine }})
{% else %}
#   âœ— Web Search (no search_engine selected)
{% endif %}
{% if providers.image_engine %}
#   âœ“ Image Generation (image_engine: {{ providers.image_engine }})
{% else %}
#   âœ— Image Generation (no image_engine selected)
{% endif %}
{% if providers.stt_engine %}
#   âœ“ Speech-to-Text (stt_engine: {{ providers.stt_engine }})
{% else %}
#   âœ— Speech-to-Text (no stt_engine selected)
{% endif %}
{% if providers.tts_engine %}
#   âœ“ Text-to-Speech (tts_engine: {{ providers.tts_engine }})
{% else %}
#   âœ— Text-to-Speech (no tts_engine selected)
{% endif %}
{% if providers.code_execution_engine %}
#   âœ“ Code Execution (code_execution_engine: {{ providers.code_execution_engine }})
{% else %}
#   âœ— Code Execution (no code_execution_engine selected)
{% endif %}
#
# EXPLICIT FEATURE FLAGS:
{% for key in features | dictsort %}
{%- if features[key[0]] %}
#   âœ“ {{ key[0] }}: enabled
{% else %}
#   âœ— {{ key[0] }}: disabled
{% endif -%}
{% endfor %}
#
# EXCLUDED FEATURES:
#   âœ— OAuth/LDAP/SCIM (single-user deployment)
#   âœ— User permission restrictions (superuser mode)
#   âœ— OpenTelemetry observability (not configured)
#   âœ— Cloud storage providers (local storage only)
#   âœ— Additional search/audio/image providers (documented for future)
#
# SECURITY MODEL:
#   - Internal secrets hardcoded in openwebui.container.njk
#   - External API keys via Podman Secrets (see releases/v0.0.1/SECRETS.md)
#   - Tailscale-secured network (no public internet exposure)
#
# For full variable reference, see:
# - docs/owui-refinement/analysis-missing-env-variables.md
# - https://docs.openwebui.com/getting-started/env-configuration
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
